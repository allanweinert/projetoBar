<form [formGroup]="formItens">
    <div class="ui-fluid">
        <div class="p-grid">
          <div class="p-col-6">
            Produto
            <p-autoComplete formControlName="produto"
                            forceSelection="true"
                            field="nome"
                            dropdown="true"
                            dataKey="id"
                            [suggestions]="produtos"
                            (completeMethod)="pesquisarProdutos($event)">
            </p-autoComplete>
          </div>
          <div class="p-col-2">
            Quantidade
            <input type="text" pInputText formControlName="quantidade">
          </div>
          <div class="p-col-2">
            Valor de custo
            <input type="text" pInputText formControlName="valorcusto">
          </div>
          <div class="p-col-2">
            Valor de venda
            <input type="text" pInputText formControlName="valorvenda">
          </div>
          <div class="p-col-fixed" style='width: 100px'>
            <br>
            <button pButton type="button" label="Adicionar" (click)="adicionarItem()" class="ui-button-success"></button>
          </div>
        </div>
    </div>
</form>
<br>
Lista de Itens:
<br>
<p-table autoLayout="true" [value]="itens">
  <ng-template pTemplate="header">
      <tr>
          <th>Nome</th>
          <th>Quantidade</th>
          <th>Valor de Custo</th>
          <th>Valor de Venda</th>
          <th style='width: 60px'>Ações</th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-item>
      <tr>
        <td>{{item.produto.nome}}</td>
        <td>{{item.quantidade}}</td>
        <td>{{item.valorcusto}}</td>
        <td>{{item.valorvenda}}</td>
        <td><button pButton type="button" icon="pi pi-trash" (click)="removerItem(item)" class="ui-button-secondary"></button></td>
      </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <div *ngIf='itens.length === 0' style='padding: 16px'>
        Nenhum item adicionado
    </div>
    </tr>
  </ng-template>
</p-table>
